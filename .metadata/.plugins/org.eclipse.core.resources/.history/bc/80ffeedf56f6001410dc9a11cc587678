package com.geertenvink.Bardiche;

import com.stephengware.java.planware.Domain;
import com.stephengware.java.planware.Problem;
import com.stephengware.java.planware.Universe;
import com.stephengware.java.planware.io.ParseException;
import com.stephengware.java.planware.io.Parser;
import com.stephengware.java.planware.io.pddl.ProblemExtension;
import com.stephengware.java.planware.io.pddl.sexp.SExpression;
import com.stephengware.java.planware.logic.Expression;

public class BardicheProblemExtension extends ProblemExtension {
	public static final String PROTAGONIST_IDENTIFIER = "protagonist";
	
	public BardicheProblemExtension() {
		super();
	}
	
	@Override
	public void parse(SExpression document, Parser<SExpression> parser) throws ParseException {
		String name = parseName(document.asList(), parser);
		Domain domain = parseDomain(document.asList(), parser);
		parseRequirements(document.asList(), parser);
		Universe universe = parseUniverse(document.asList(), parser);
		Expression initialState = parseInitialState(document.asList(), parser);
		Expression goal = parseGoal(document.asList(), parser);
		succeed(new Problem(name, domain, universe, initialState, goal));
		
	}
}
